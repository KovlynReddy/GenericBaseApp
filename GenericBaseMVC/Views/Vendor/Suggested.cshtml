@model IEnumerable<GenericAppDLL.Models.DomainModel.Vendor>

    <div id="map" style="width:100%;height:400px;">s</div>



    <script type="text/javascript">

        $(document).ready(function () {
            var x;
            var y;
            if (navigator.geolocation) {
                var position = navigator.geolocation.getCurrentPosition(getPosition);
                console.log(position);
                x = String(position.coords.latitude);
                y = String(position.coords.longitude);
            } else {
                console.log("Geolocation is not supported by this browser.");
            }
                        
            console.log(x, y);

            $.ajax({
                type: "POST",
            url: "https://localhost:7140/Vendor/Suggested",
                data: {
                    "slat": x,
                    "slon": y
                },
                success: function (tekst) {
                    console.log("successs", tekst);
                document.getElementById('map').innerHTML = tekst;

                document.open();
                document.write(tekst);
                document.close();
                },
                error: function (request, error) {
                    console.log("ERROR:ready" + error);
                }
            });

            $.ajax({
                type: "GET",
            url: "https://localhost:7140/Vendor/DisplaySuggested",
                data: {
                    "slat": x,
                    "slon": y
                },
                success: function (tekst) {
                    console.log("successs", tekst);
                document.getElementById('map').innerHTML = tekst;

                document.open();
                document.write(tekst);
                document.close();
                },
                error: function (request, error) {
                    console.log("ERROR:ready" + error);
                }
            });

        });

        function getPosition(position) {
            console.log(position);
            var x = String(position.coords.latitude);
            var y = String(position.coords.longitude);
            console.log(x, y);

            $.ajax({
                type: "GET",
            url: "https://localhost:7140/Barber/DisplaySuggested",
                data: {
                    "slat": x,
                    "slon": y
                },
                success: function (tekst) {
                    console.log("successs", tekst);
                    document.getElementById('map').innerHTML = tekst;

                    document.open();
                    document.write(tekst);
                    document.close();

                },
                error: function (request, error) {
                    console.log("ERROR:getPosition" + error);
                }
            });

            $.ajax({
                type: "POST",
                url: "https://localhost:7140/Vendor/Suggested",
                data: {
                    "slat": x,
                    "slon": y
                },
                success: function (tekst) {
                console.log("successs", tekst);
                document.getElementById('map').innerHTML = tekst;

                document.open();
                document.write(tekst);
                document.close();
                },
                error: function (request, error) {
                    console.log("ERROR:getPosition" + error);
                }
            });
        }
    </script>